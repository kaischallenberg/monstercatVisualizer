<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monstercat Visualizer</title>

    <script src="https://unpkg.com/audiomotion-analyzer/dist"></script>
    <link rel="stylesheet" href="./style.css">

    <script src="./settings.js"></script>
    <script defer src="./visualizer.js"></script>
    <script defer src="./audio.js"></script>

</head>

<body style="overflow: hidden; background: #222; color: #ccc; margin: 0 auto;">
    <div id="resize" style="position: absolute;top: 0px;left: 0px;width: 100%;height: 100%;z-index: -1;scale: 0.8;transform-origin: 0 0;transition: all 0.2s ease;">
        <img id="bg" src="./bg/1.png" style="position: absolute; top: 0px; left: 0px; width: 1920px; height: 1080px;" />
        <div id="visualizer" style="position: absolute;width: 100%;height: 100%;top: 543px;left: 168px;transform: rotate(270deg);transform-origin: left top;"></div>
        <div id=artist class="bold"
            style="position: absolute;top: 587px;left: 398px;font-size: 111px;white-space: nowrap; text-shadow: 2px 2px 10px black">
        </div>
        <div id=title class="regular"
            style="position: absolute;top: 703px;left: 401px;width: 100%; text-shadow: 2px 2px 10px black"></div>
        <div id=additional class="regular"
            style="position: absolute;top: 721px;left: 401px;width: 100%; text-shadow: 2px 2px 10px black"></div>
        <div id="artistTest" class="bold"
            style="position: absolute;top: 587px;left: 398px;font-size: 111px;white-space: nowrap; text-shadow: 2px 2px 10px black; opacity:0;">
        </div>
        <audio style="position: absolute; width: 100%; left:0px; top: 1090px;transition: all 0.2s ease;" id="audio" src="" controls autoplay
            crossorigin="anonymous"></audio>

        <img id="cover" src="./cover/mcat.png"
            style="position: absolute;top: 593px;left: 176px;width: 191px;height: 191px; box-shadow: 2px 2px 10px black;transition:scale 0.2s cubic-bezier(.43,.19,.76,.62), transform 0.3s cubic-bezier(.43,.19,.76,.62);" />
        <img id="coverNew" src=""
            style="position: absolute;top: 593px;left: 176px;width: 191px;height: 191px; box-shadow: 2px 2px 10px black; transition: scale 0.2s cubic-bezier(.24,.45,.63,.9), transform 0.3s cubic-bezier(.24,.45,.63,.9); transform: rotateY(270deg); opacity:0;" />
    </div>

    <script>

        // set the background image
        document.getElementById("bg").src = settings.bgImage;

        // rezize the background image
        const resize = document.getElementById("resize");
        const audio = document.getElementById("audio");

        setInterval(() => {
            const width = window.innerWidth;

            audio.style.width = width + "px";
            resize.style.scale = (width / 1920);
        }, 100);
    </script>

</body>

</html>